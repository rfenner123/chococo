function getPosition(t){for(var e=0,o=0;t;)e+=t.offsetLeft-t.scrollLeft+t.clientLeft,o+=t.offsetTop-t.scrollTop+t.clientTop,t=t.offsetParent;return{x:e,y:o}}"undefined"==typeof dropdownWidget&&(dropdownWidget=function(t,e){var o=document.getElementById(t),n="https://widget.reviews.co.uk/dropdown/widget",s="https://widget.reviews.co.uk/dropdown/dropdown",l=null;!e.height>0&&(e.height=600);var a="elementId="+t+"&version=2&";for(i in e)a.length>0&&(a+="&"),a+="object"!=typeof e[i]?i+"="+encodeURIComponent(e[i]):i+"="+encodeURIComponent(JSON.stringify(e[i]));n+="?"+a,s+="?"+a;var c=document.createElement("DIV");c.style.position="relative",c.style.clear="both";var d=document.createElement("IFRAME");d.className="dropframe",d.setAttribute("src",n),d.setAttribute("frameborder",0),d.width="100%",d.style.zIndex=500,c.appendChild(d);var r=document.createElement("IFRAME");r.className="dropframe",r.setAttribute("src",s),r.setAttribute("frameborder",0),r.width="100%",r.opacity=0,r.style.display="none",r.style.transition="opacity 0.5s",r.style.MozTransition="opacity 0.5s",r.style.WebkitTransition="opacity 0.5s",r.style.position="absolute","up"==e.direction?r.style.bottom="60px":r.style.top="60px",r.style.left=0,r.style.right=0,r.height=e.height+100,r.style.zIndex=999,c.appendChild(r),o.appendChild(c),d.onmouseover=function(){clearTimeout(l),r.style.display="block",r.style.opacity=1},d.onclick=function(){clearTimeout(l),r.style.display="block",r.style.opacity=1},d.onmouseout=function(){r.style.opacity=0,l=setTimeout(function(){r.style.display="none"},500)},r.onmouseover=function(){clearTimeout(l),r.style.display="block",r.style.opacity=1},r.onmouseout=function(){r.style.opacity=0,l=setTimeout(function(){r.style.display="none"},500)};var y=!0,p=function(e){try{var o=JSON.parse(e.data);"widget-resize"==o.action&&o.elementId==t&&(d.height=o.height),"touch"==o.action&&o.elementId==t&&(y?(clearTimeout(l),r.style.display="block",r.style.opacity=1,y=!1):(r.style.opacity=0,l=setTimeout(function(){r.style.display="none"},500),y=!0))}catch(i){}};document.addEventListener("touchstart",function(){r.style.opacity=0,l=setTimeout(function(){r.style.display="none"},500),y=!0}),window.addEventListener?addEventListener("message",p,!1):attachEvent("onmessage",p)},"function"==typeof dropdownWidgetCallback&&dropdownWidgetCallback());
